<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Driver for a VirtIO block device."><title>VirtIOBlk in virtio_drivers::device::blk - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-cf3c48c1.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="virtio_drivers" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (854f22563 2025-01-31)" data-channel="nightly" data-search-js="search-2d513d54.js" data-settings-js="settings-6dad6058.js" ><script src="../../../static.files/storage-302de22f.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-9b5d7e41.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../virtio_drivers/index.html">virtio_<wbr>drivers</a><span class="version">0.7.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">VirtIO<wbr>Blk</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#example" title="Example">Example</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.ack_interrupt" title="ack_interrupt">ack_interrupt</a></li><li><a href="#method.capacity" title="capacity">capacity</a></li><li><a href="#method.complete_read_blocks" title="complete_read_blocks">complete_read_blocks</a></li><li><a href="#method.complete_write_blocks" title="complete_write_blocks">complete_write_blocks</a></li><li><a href="#method.device_id" title="device_id">device_id</a></li><li><a href="#method.flush" title="flush">flush</a></li><li><a href="#method.new" title="new">new</a></li><li><a href="#method.peek_used" title="peek_used">peek_used</a></li><li><a href="#method.read_blocks" title="read_blocks">read_blocks</a></li><li><a href="#method.read_blocks_nb" title="read_blocks_nb">read_blocks_nb</a></li><li><a href="#method.readonly" title="readonly">readonly</a></li><li><a href="#method.virt_queue_size" title="virt_queue_size">virt_queue_size</a></li><li><a href="#method.write_blocks" title="write_blocks">write_blocks</a></li><li><a href="#method.write_blocks_nb" title="write_blocks_nb">write_blocks_nb</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Drop-for-VirtIOBlk%3CH,+T%3E" title="Drop">Drop</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Send-for-VirtIOBlk%3CH,+T%3E" title="!Send">!Send</a></li><li><a href="#impl-Sync-for-VirtIOBlk%3CH,+T%3E" title="!Sync">!Sync</a></li><li><a href="#impl-Freeze-for-VirtIOBlk%3CH,+T%3E" title="Freeze">Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-VirtIOBlk%3CH,+T%3E" title="RefUnwindSafe">RefUnwindSafe</a></li><li><a href="#impl-Unpin-for-VirtIOBlk%3CH,+T%3E" title="Unpin">Unpin</a></li><li><a href="#impl-UnwindSafe-for-VirtIOBlk%3CH,+T%3E" title="UnwindSafe">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T" title="Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T" title="Borrow&#60;T&#62;">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T" title="BorrowMut&#60;T&#62;">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-From%3CT%3E-for-T" title="From&#60;T&#62;">From&#60;T&#62;</a></li><li><a href="#impl-Into%3CU%3E-for-T" title="Into&#60;U&#62;">Into&#60;U&#62;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T" title="TryFrom&#60;U&#62;">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T" title="TryInto&#60;U&#62;">TryInto&#60;U&#62;</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In virtio_<wbr>drivers::<wbr>device::<wbr>blk</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">virtio_drivers</a>::<wbr><a href="../index.html">device</a>::<wbr><a href="index.html">blk</a></div><h1>Struct <span class="struct">VirtIOBlk</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/virtio_drivers/device/blk.rs.html#45-50">Source</a> </span></div><pre class="rust item-decl"><code>pub struct VirtIOBlk&lt;H: <a class="trait" href="../../trait.Hal.html" title="trait virtio_drivers::Hal">Hal</a>, T: <a class="trait" href="../../transport/trait.Transport.html" title="trait virtio_drivers::transport::Transport">Transport</a>&gt; { <span class="comment">/* private fields */</span> }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Driver for a VirtIO block device.</p>
<p>This is a simple virtual block device, e.g. disk.</p>
<p>Read and write requests (and other exotic requests) are placed in the queue and serviced
(probably out of order) by the device except where noted.</p>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>virtio_drivers::device::blk::{VirtIOBlk, SECTOR_SIZE};

<span class="kw">let </span><span class="kw-2">mut </span>disk = VirtIOBlk::&lt;HalImpl, <span class="kw">_</span>&gt;::new(transport)<span class="question-mark">?</span>;

<span class="macro">println!</span>(<span class="string">"VirtIO block device: {} kB"</span>, disk.capacity() * SECTOR_SIZE <span class="kw">as </span>u64 / <span class="number">2</span>);

<span class="comment">// Read sector 0 and then copy it to sector 1.
</span><span class="kw">let </span><span class="kw-2">mut </span>buf = [<span class="number">0</span>; SECTOR_SIZE];
disk.read_blocks(<span class="number">0</span>, <span class="kw-2">&amp;mut </span>buf)<span class="question-mark">?</span>;
disk.write_blocks(<span class="number">1</span>, <span class="kw-2">&amp;</span>buf)<span class="question-mark">?</span>;</code></pre></div>
</div></details><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-VirtIOBlk%3CH,+T%3E" class="impl"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#52-373">Source</a><a href="#impl-VirtIOBlk%3CH,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;H: <a class="trait" href="../../trait.Hal.html" title="trait virtio_drivers::Hal">Hal</a>, T: <a class="trait" href="../../transport/trait.Transport.html" title="trait virtio_drivers::transport::Transport">Transport</a>&gt; <a class="struct" href="struct.VirtIOBlk.html" title="struct virtio_drivers::device::blk::VirtIOBlk">VirtIOBlk</a>&lt;H, T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#54-80">Source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>(transport: T) -&gt; <a class="type" href="../../type.Result.html" title="type virtio_drivers::Result">Result</a>&lt;Self&gt;</h4></section></summary><div class="docblock"><p>Create a new VirtIO-Blk driver.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.capacity" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#83-85">Source</a><h4 class="code-header">pub fn <a href="#method.capacity" class="fn">capacity</a>(&amp;self) -&gt; u64</h4></section></summary><div class="docblock"><p>Gets the capacity of the block device, in 512 byte (<a href="constant.SECTOR_SIZE.html" title="constant virtio_drivers::device::blk::SECTOR_SIZE"><code>SECTOR_SIZE</code></a>) sectors.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.readonly" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#88-90">Source</a><h4 class="code-header">pub fn <a href="#method.readonly" class="fn">readonly</a>(&amp;self) -&gt; bool</h4></section></summary><div class="docblock"><p>Returns true if the block device is read-only, or false if it allows writes.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.ack_interrupt" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#95-97">Source</a><h4 class="code-header">pub fn <a href="#method.ack_interrupt" class="fn">ack_interrupt</a>(&amp;mut self) -&gt; bool</h4></section></summary><div class="docblock"><p>Acknowledges a pending interrupt, if any.</p>
<p>Returns true if there was an interrupt to acknowledge.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.flush" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#135-144">Source</a><h4 class="code-header">pub fn <a href="#method.flush" class="fn">flush</a>(&amp;mut self) -&gt; <a class="type" href="../../type.Result.html" title="type virtio_drivers::Result">Result</a></h4></section></summary><div class="docblock"><p>Requests the device to flush any pending writes to storage.</p>
<p>This will be ignored if the device doesn’t support the <code>VIRTIO_BLK_F_FLUSH</code> feature.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.device_id" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#150-161">Source</a><h4 class="code-header">pub fn <a href="#method.device_id" class="fn">device_id</a>(&amp;mut self, id: &amp;mut [u8; 20]) -&gt; <a class="type" href="../../type.Result.html" title="type virtio_drivers::Result">Result</a>&lt;usize&gt;</h4></section></summary><div class="docblock"><p>Gets the device ID.</p>
<p>The ID is written as ASCII into the given buffer, which must be 20 bytes long, and the used
length returned.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.read_blocks" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#168-179">Source</a><h4 class="code-header">pub fn <a href="#method.read_blocks" class="fn">read_blocks</a>(&amp;mut self, block_id: usize, buf: &amp;mut [u8]) -&gt; <a class="type" href="../../type.Result.html" title="type virtio_drivers::Result">Result</a></h4></section></summary><div class="docblock"><p>Reads one or more blocks into the given buffer.</p>
<p>The buffer length must be a non-zero multiple of <a href="constant.SECTOR_SIZE.html" title="constant virtio_drivers::device::blk::SECTOR_SIZE"><code>SECTOR_SIZE</code></a>.</p>
<p>Blocks until the read completes or there is an error.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.read_blocks_nb" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#238-259">Source</a><h4 class="code-header">pub unsafe fn <a href="#method.read_blocks_nb" class="fn">read_blocks_nb</a>(
    &amp;mut self,
    block_id: usize,
    req: &amp;mut <a class="struct" href="struct.BlkReq.html" title="struct virtio_drivers::device::blk::BlkReq">BlkReq</a>,
    buf: &amp;mut [u8],
    resp: &amp;mut <a class="struct" href="struct.BlkResp.html" title="struct virtio_drivers::device::blk::BlkResp">BlkResp</a>,
) -&gt; <a class="type" href="../../type.Result.html" title="type virtio_drivers::Result">Result</a>&lt;u16&gt;</h4></section></summary><div class="docblock"><p>Submits a request to read one or more blocks, but returns immediately without waiting for
the read to complete.</p>
<h5 id="arguments"><a class="doc-anchor" href="#arguments">§</a>Arguments</h5>
<ul>
<li><code>block_id</code> - The identifier of the first block to read.</li>
<li><code>req</code> - A buffer which the driver can use for the request to send to the device. The
contents don’t matter as <code>read_blocks_nb</code> will initialise it, but like the other buffers
it needs to be valid (and not otherwise used) until the corresponding
<code>complete_read_blocks</code> call. Its length must be a non-zero multiple of <a href="constant.SECTOR_SIZE.html" title="constant virtio_drivers::device::blk::SECTOR_SIZE"><code>SECTOR_SIZE</code></a>.</li>
<li><code>buf</code> - The buffer in memory into which the block should be read.</li>
<li><code>resp</code> - A mutable reference to a variable provided by the caller
to contain the status of the request. The caller can safely
read the variable only after the request is complete.</li>
</ul>
<h5 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h5>
<p>It will submit request to the VirtIO block device and return a token identifying
the position of the first Descriptor in the chain. If there are not enough
Descriptors to allocate, then it returns <a href="../../enum.Error.html#variant.QueueFull" title="variant virtio_drivers::Error::QueueFull"><code>Error::QueueFull</code></a>.</p>
<p>The caller can then call <code>peek_used</code> with the returned token to check whether the device has
finished handling the request. Once it has, the caller must call <code>complete_read_blocks</code> with
the same buffers before reading the response.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>virtio_drivers::device::blk::{BlkReq, BlkResp, RespStatus};

<span class="kw">let </span><span class="kw-2">mut </span>request = BlkReq::default();
<span class="kw">let </span><span class="kw-2">mut </span>buffer = [<span class="number">0</span>; <span class="number">512</span>];
<span class="kw">let </span><span class="kw-2">mut </span>response = BlkResp::default();
<span class="kw">let </span>token = <span class="kw">unsafe </span>{ blk.read_blocks_nb(<span class="number">42</span>, <span class="kw-2">&amp;mut </span>request, <span class="kw-2">&amp;mut </span>buffer, <span class="kw-2">&amp;mut </span>response) }<span class="question-mark">?</span>;

<span class="comment">// Wait for an interrupt to tell us that the request completed...
</span><span class="macro">assert_eq!</span>(blk.peek_used(), <span class="prelude-val">Some</span>(token));

<span class="kw">unsafe </span>{
  blk.complete_read_blocks(token, <span class="kw-2">&amp;</span>request, <span class="kw-2">&amp;mut </span>buffer, <span class="kw-2">&amp;mut </span>response)<span class="question-mark">?</span>;
}
<span class="kw">if </span>response.status() == RespStatus::OK {
  <span class="macro">println!</span>(<span class="string">"Successfully read block."</span>);
} <span class="kw">else </span>{
  <span class="macro">println!</span>(<span class="string">"Error {:?} reading block."</span>, response.status());
}</code></pre></div>
<h5 id="safety"><a class="doc-anchor" href="#safety">§</a>Safety</h5>
<p><code>req</code>, <code>buf</code> and <code>resp</code> are still borrowed by the underlying VirtIO block device even after
this method returns. Thus, it is the caller’s responsibility to guarantee that they are not
accessed before the request is completed in order to avoid data races.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.complete_read_blocks" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#267-277">Source</a><h4 class="code-header">pub unsafe fn <a href="#method.complete_read_blocks" class="fn">complete_read_blocks</a>(
    &amp;mut self,
    token: u16,
    req: &amp;<a class="struct" href="struct.BlkReq.html" title="struct virtio_drivers::device::blk::BlkReq">BlkReq</a>,
    buf: &amp;mut [u8],
    resp: &amp;mut <a class="struct" href="struct.BlkResp.html" title="struct virtio_drivers::device::blk::BlkResp">BlkResp</a>,
) -&gt; <a class="type" href="../../type.Result.html" title="type virtio_drivers::Result">Result</a>&lt;()&gt;</h4></section></summary><div class="docblock"><p>Completes a read operation which was started by <code>read_blocks_nb</code>.</p>
<h5 id="safety-1"><a class="doc-anchor" href="#safety-1">§</a>Safety</h5>
<p>The same buffers must be passed in again as were passed to <code>read_blocks_nb</code> when it returned
the token.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_blocks" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#284-295">Source</a><h4 class="code-header">pub fn <a href="#method.write_blocks" class="fn">write_blocks</a>(&amp;mut self, block_id: usize, buf: &amp;[u8]) -&gt; <a class="type" href="../../type.Result.html" title="type virtio_drivers::Result">Result</a></h4></section></summary><div class="docblock"><p>Writes the contents of the given buffer to a block or blocks.</p>
<p>The buffer length must be a non-zero multiple of <a href="constant.SECTOR_SIZE.html" title="constant virtio_drivers::device::blk::SECTOR_SIZE"><code>SECTOR_SIZE</code></a>.</p>
<p>Blocks until the write is complete or there is an error.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_blocks_nb" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#320-341">Source</a><h4 class="code-header">pub unsafe fn <a href="#method.write_blocks_nb" class="fn">write_blocks_nb</a>(
    &amp;mut self,
    block_id: usize,
    req: &amp;mut <a class="struct" href="struct.BlkReq.html" title="struct virtio_drivers::device::blk::BlkReq">BlkReq</a>,
    buf: &amp;[u8],
    resp: &amp;mut <a class="struct" href="struct.BlkResp.html" title="struct virtio_drivers::device::blk::BlkResp">BlkResp</a>,
) -&gt; <a class="type" href="../../type.Result.html" title="type virtio_drivers::Result">Result</a>&lt;u16&gt;</h4></section></summary><div class="docblock"><p>Submits a request to write one or more blocks, but returns immediately without waiting for
the write to complete.</p>
<h5 id="arguments-1"><a class="doc-anchor" href="#arguments-1">§</a>Arguments</h5>
<ul>
<li><code>block_id</code> - The identifier of the first block to write.</li>
<li><code>req</code> - A buffer which the driver can use for the request to send to the device. The
contents don’t matter as <code>read_blocks_nb</code> will initialise it, but like the other buffers
it needs to be valid (and not otherwise used) until the corresponding
<code>complete_write_blocks</code> call.</li>
<li><code>buf</code> - The buffer in memory containing the data to write to the blocks. Its length must
be a non-zero multiple of <a href="constant.SECTOR_SIZE.html" title="constant virtio_drivers::device::blk::SECTOR_SIZE"><code>SECTOR_SIZE</code></a>.</li>
<li><code>resp</code> - A mutable reference to a variable provided by the caller
to contain the status of the request. The caller can safely
read the variable only after the request is complete.</li>
</ul>
<h5 id="usage-1"><a class="doc-anchor" href="#usage-1">§</a>Usage</h5>
<p>See <a href="struct.VirtIOBlk.html#method.read_blocks_nb" title="method virtio_drivers::device::blk::VirtIOBlk::read_blocks_nb">VirtIOBlk::read_blocks_nb</a>.</p>
<h5 id="safety-2"><a class="doc-anchor" href="#safety-2">§</a>Safety</h5>
<p>See  <a href="struct.VirtIOBlk.html#method.read_blocks_nb" title="method virtio_drivers::device::blk::VirtIOBlk::read_blocks_nb">VirtIOBlk::read_blocks_nb</a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.complete_write_blocks" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#349-359">Source</a><h4 class="code-header">pub unsafe fn <a href="#method.complete_write_blocks" class="fn">complete_write_blocks</a>(
    &amp;mut self,
    token: u16,
    req: &amp;<a class="struct" href="struct.BlkReq.html" title="struct virtio_drivers::device::blk::BlkReq">BlkReq</a>,
    buf: &amp;[u8],
    resp: &amp;mut <a class="struct" href="struct.BlkResp.html" title="struct virtio_drivers::device::blk::BlkResp">BlkResp</a>,
) -&gt; <a class="type" href="../../type.Result.html" title="type virtio_drivers::Result">Result</a>&lt;()&gt;</h4></section></summary><div class="docblock"><p>Completes a write operation which was started by <code>write_blocks_nb</code>.</p>
<h5 id="safety-3"><a class="doc-anchor" href="#safety-3">§</a>Safety</h5>
<p>The same buffers must be passed in again as were passed to <code>write_blocks_nb</code> when it
returned the token.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.peek_used" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#363-365">Source</a><h4 class="code-header">pub fn <a href="#method.peek_used" class="fn">peek_used</a>(&amp;mut self) -&gt; Option&lt;u16&gt;</h4></section></summary><div class="docblock"><p>Fetches the token of the next completed request from the used ring and returns it, without
removing it from the used ring. If there are no pending completed requests returns <code>None</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.virt_queue_size" class="method"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#370-372">Source</a><h4 class="code-header">pub fn <a href="#method.virt_queue_size" class="fn">virt_queue_size</a>(&amp;self) -&gt; u16</h4></section></summary><div class="docblock"><p>Returns the size of the device’s VirtQueue.</p>
<p>This can be used to tell the caller how many channels to monitor on.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Drop-for-VirtIOBlk%3CH,+T%3E" class="impl"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#375-381">Source</a><a href="#impl-Drop-for-VirtIOBlk%3CH,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;H: <a class="trait" href="../../trait.Hal.html" title="trait virtio_drivers::Hal">Hal</a>, T: <a class="trait" href="../../transport/trait.Transport.html" title="trait virtio_drivers::transport::Transport">Transport</a>&gt; Drop for <a class="struct" href="struct.VirtIOBlk.html" title="struct virtio_drivers::device::blk::VirtIOBlk">VirtIOBlk</a>&lt;H, T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.drop" class="method trait-impl"><a class="src rightside" href="../../../src/virtio_drivers/device/blk.rs.html#376-380">Source</a><a href="#method.drop" class="anchor">§</a><h4 class="code-header">fn <a class="fn">drop</a>(&amp;mut self)</h4></section></summary><div class='docblock'>Executes the destructor for this type. <a>Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-VirtIOBlk%3CH,+T%3E" class="impl"><a href="#impl-Freeze-for-VirtIOBlk%3CH,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;H, T&gt; Freeze for <a class="struct" href="struct.VirtIOBlk.html" title="struct virtio_drivers::device::blk::VirtIOBlk">VirtIOBlk</a>&lt;H, T&gt;<div class="where">where
    T: Freeze,</div></h3></section><section id="impl-RefUnwindSafe-for-VirtIOBlk%3CH,+T%3E" class="impl"><a href="#impl-RefUnwindSafe-for-VirtIOBlk%3CH,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;H, T&gt; RefUnwindSafe for <a class="struct" href="struct.VirtIOBlk.html" title="struct virtio_drivers::device::blk::VirtIOBlk">VirtIOBlk</a>&lt;H, T&gt;<div class="where">where
    T: RefUnwindSafe,
    H: RefUnwindSafe,</div></h3></section><section id="impl-Send-for-VirtIOBlk%3CH,+T%3E" class="impl"><a href="#impl-Send-for-VirtIOBlk%3CH,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;H, T&gt; !Send for <a class="struct" href="struct.VirtIOBlk.html" title="struct virtio_drivers::device::blk::VirtIOBlk">VirtIOBlk</a>&lt;H, T&gt;</h3></section><section id="impl-Sync-for-VirtIOBlk%3CH,+T%3E" class="impl"><a href="#impl-Sync-for-VirtIOBlk%3CH,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;H, T&gt; !Sync for <a class="struct" href="struct.VirtIOBlk.html" title="struct virtio_drivers::device::blk::VirtIOBlk">VirtIOBlk</a>&lt;H, T&gt;</h3></section><section id="impl-Unpin-for-VirtIOBlk%3CH,+T%3E" class="impl"><a href="#impl-Unpin-for-VirtIOBlk%3CH,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;H, T&gt; Unpin for <a class="struct" href="struct.VirtIOBlk.html" title="struct virtio_drivers::device::blk::VirtIOBlk">VirtIOBlk</a>&lt;H, T&gt;<div class="where">where
    T: Unpin,
    H: Unpin,</div></h3></section><section id="impl-UnwindSafe-for-VirtIOBlk%3CH,+T%3E" class="impl"><a href="#impl-UnwindSafe-for-VirtIOBlk%3CH,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;H, T&gt; UnwindSafe for <a class="struct" href="struct.VirtIOBlk.html" title="struct virtio_drivers::device::blk::VirtIOBlk">VirtIOBlk</a>&lt;H, T&gt;<div class="where">where
    T: UnwindSafe,
    H: UnwindSafe,</div></h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; Any for T<div class="where">where
    T: 'static + ?Sized,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a class="fn">type_id</a>(&amp;self) -&gt; TypeId</h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; Borrow&lt;T&gt; for T<div class="where">where
    T: ?Sized,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a class="fn">borrow</a>(&amp;self) -&gt; &amp;T</h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; BorrowMut&lt;T&gt; for T<div class="where">where
    T: ?Sized,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a class="fn">borrow_mut</a>(&amp;mut self) -&gt; &amp;mut T</h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; From&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; Into&lt;U&gt; for T<div class="where">where
    U: From&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code>[From]&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; TryFrom&lt;U&gt; for T<div class="where">where
    U: Into&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a class="associatedtype">Error</a> = Infallible</h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a class="fn">try_from</a>(value: U) -&gt; Result&lt;T, &lt;T as TryFrom&lt;U&gt;&gt;::Error&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; TryInto&lt;U&gt; for T<div class="where">where
    U: TryFrom&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a class="associatedtype">Error</a> = &lt;U as TryFrom&lt;T&gt;&gt;::Error</h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a class="fn">try_into</a>(self) -&gt; Result&lt;U, &lt;U as TryFrom&lt;T&gt;&gt;::Error&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>